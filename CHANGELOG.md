# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

# v1.32.19
## (2025-05-22)

* Update aws/aws-cli to v2.27.20 [balena-renovate[bot]]

# v1.32.18
## (2025-05-21)

* Update balena-os/leviathan action to v2.31.109 [balena-renovate[bot]]

# v1.32.17
## (2025-05-21)

* Update balena-io/balena-cli to v21.1.13 [balena-renovate[bot]]

# v1.32.16
## (2025-05-20)

* Update tespkg/actions-cache action to v1.9.0 [balena-renovate[bot]]

# v1.32.15
## (2025-05-19)

* Update aws/aws-cli to v2.27.18 [balena-renovate[bot]]

# v1.32.14
## (2025-05-19)

* grant actions: read permissions to jobs needing to download build artifacts [Ryan Cooke]

# v1.32.13
## (2025-05-17)

* Update balena-os/leviathan action to v2.31.108 [balena-renovate[bot]]

# v1.32.12
## (2025-05-17)

* Update aws/aws-cli to v2.27.17 [balena-renovate[bot]]

# v1.32.11
## (2025-05-16)

* Update balena-io/balena-cli to v21.1.12 [balena-renovate[bot]]

# v1.32.10
## (2025-05-16)

* Remove the old grep for build errors [Kyle Harding]

# v1.32.9
## (2025-05-16)

* Update aws/aws-cli to v2.27.16 [balena-renovate[bot]]

# v1.32.8
## (2025-05-15)

* Update aws-actions/configure-aws-credentials action to v4.2.1 [balena-renovate[bot]]

# v1.32.7
## (2025-05-14)

* Update aws/aws-cli to v2.27.15 [balena-renovate[bot]]

# v1.32.6
## (2025-05-14)

* AMI deploy: parameterise test org + use TEST api key [Ryan Cooke]

# v1.32.5
## (2025-05-13)

* Update aws/aws-cli to v2.27.14 [balena-renovate[bot]]

# v1.32.4
## (2025-05-12)

* Update aws/aws-cli to v2.27.13 [balena-renovate[bot]]

# v1.32.3
## (2025-05-09)

* Update aws/aws-cli to v2.27.11 [balena-renovate[bot]]

# v1.32.2
## (2025-05-09)

* Use GH CLI to download build artifacts [Kyle Harding]
* Disable GHA compression for build artifacts [Kyle Harding]
* Provide yocto scripts ref to test build pipeline [Kyle Harding]
* Remove leviathan test suites from build artifacts [Kyle Harding]

# v1.32.1
## (2025-05-07)

* Update aws/aws-cli to v2.27.10 [balena-renovate[bot]]

# v1.32.0
## (2025-05-07)

* Remove legacy Jenkins deploy scripts [Kyle Harding]

# v1.31.97
## (2025-05-07)

* Update balena-io/balena-cli to v21.1.11 [balena-renovate[bot]]

# v1.31.96
## (2025-05-07)

* Update aws-actions/configure-aws-credentials action to v4.2.0 [balena-renovate[bot]]

# v1.31.95
## (2025-05-06)

* Update balena-os/leviathan action to v2.31.107 [balena-renovate[bot]]

# v1.31.94
## (2025-05-06)

* Update balena-os/leviathan action to v2.31.106 [balena-renovate[bot]]

# v1.31.93
## (2025-05-05)

* Update aws/aws-cli to v2.27.8 [balena-renovate[bot]]

# v1.31.92
## (2025-05-05)

* Update balena-io/balena-cli to v21.1.10 [balena-renovate[bot]]

# v1.31.91
## (2025-05-03)

* Update actions/create-github-app-token action to v2.0.6 [balena-renovate[bot]]

# v1.31.90
## (2025-05-03)

* Update aws/aws-cli to v2.27.7 [balena-renovate[bot]]

# v1.31.89
## (2025-05-03)

* Update balena-os/leviathan action to v2.31.105 [balena-renovate[bot]]

# v1.31.88
## (2025-05-02)

* Update actions/create-github-app-token action to v2.0.5 [balena-renovate[bot]]

# v1.31.87
## (2025-05-01)

* Update aws/aws-cli to v2.27.6 [balena-renovate[bot]]

# v1.31.86
## (2025-05-01)

* Update actions/create-github-app-token action to v2.0.3 [balena-renovate[bot]]

# v1.31.85
## (2025-04-30)

* Update actions/download-artifact digest to d3f86a1 [balena-renovate[bot]]

# v1.31.84
## (2025-04-30)

* Update aws/aws-cli to v2.27.4 [balena-renovate[bot]]

# v1.31.83
## (2025-04-29)

* Update balena-os/leviathan action to v2.31.104 [balena-renovate[bot]]

# v1.31.82
## (2025-04-28)

* Update aws/aws-cli to v2.27.3 [balena-renovate[bot]]

# v1.31.81
## (2025-04-25)

* Update aws/aws-cli to v2.27.1 [balena-renovate[bot]]

# v1.31.80
## (2025-04-22)

* Update aws/aws-cli to v2.26.7 [balena-renovate[bot]]

# v1.31.79
## (2025-04-21)

* Update aws/aws-cli to v2.26.6 [balena-renovate[bot]]

# v1.31.78
## (2025-04-18)

* Update aws/aws-cli to v2.26.5 [balena-renovate[bot]]

# v1.31.77
## (2025-04-15)

* Leviathan: Add aarch64 testbot fleet to worker pool [Ryan Cooke]

# v1.31.76
## (2025-04-14)

* Update aws/aws-cli to v2.26.2 [balena-renovate[bot]]

# v1.31.75
## (2025-04-14)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.31.74
## (2025-04-11)

* Update aws/aws-cli to v2.26.1 [balena-renovate[bot]]

# v1.31.73
## (2025-04-10)

* Update aws/aws-cli to v2.26.0 [balena-renovate[bot]]

# v1.31.72
## (2025-04-09)

* Update aws/aws-cli to v2.25.14 [balena-renovate[bot]]

# v1.31.71
## (2025-04-09)

* Update aws/aws-cli to v2.25.13 [balena-renovate[bot]]

# v1.31.70
## (2025-04-08)

* Update balena-os/leviathan action to v2.31.103 [balena-renovate[bot]]

# v1.31.69
## (2025-04-08)

* Update aws/aws-cli to v2.25.12 [balena-renovate[bot]]

# v1.31.68
## (2025-04-08)

* build/barys: Fix builds for older Poky variants [Alexandru Costache]

# v1.31.67
## (2025-04-07)

* Update balena-io/balena-cli to v21.1.9 [balena-renovate[bot]]

# v1.31.66
## (2025-04-07)

* workflows: yocto-build-deploy: provide header files to test suite [Alex Gonzalez]

# v1.31.65
## (2025-04-07)

* Update balena-os/leviathan action to v2.31.101 [balena-renovate[bot]]

# v1.31.64
## (2025-04-04)

* Update aws/aws-cli to v2.25.11 [balena-renovate[bot]]

# v1.31.63
## (2025-04-04)

* Update aws/aws-cli to v2.25.10 [balena-renovate[bot]]

# v1.31.62
## (2025-04-04)

* Update actions/create-github-app-token action to v2.0.2 [balena-renovate[bot]]

# v1.31.61
## (2025-04-03)

* Update actions/create-github-app-token action to v2 [balena-renovate[bot]]

# v1.31.60
## (2025-04-03)

* Update balena-io/balena-cli to v21.1.8 [balena-renovate[bot]]

# v1.31.59
## (2025-04-03)

* Update balena-os/leviathan action to v2.31.100 [balena-renovate[bot]]

# v1.31.58
## (2025-04-02)

* Update balena-io/balena-cli to v21.1.4 [balena-renovate[bot]]

# v1.31.57
## (2025-04-01)

* Update balena-os/leviathan action to v2.31.97 [balena-renovate[bot]]

# v1.31.56
## (2025-03-31)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.31.55
## (2025-03-30)

* Update aws/aws-cli to v2.25.6 [balena-renovate[bot]]

# v1.31.54
## (2025-03-29)

* Update balena-io/balena-cli to v21.1.3 [balena-renovate[bot]]

# v1.31.53
## (2025-03-28)

* Update easimon/maximize-build-space digest to c28619d [balena-renovate[bot]]

# v1.31.52
## (2025-03-28)

* Update aws/aws-cli to v2.25.5 [balena-renovate[bot]]

# v1.31.51
## (2025-03-28)

* Update balena-os/leviathan action to v2.31.96 [balena-renovate[bot]]

# v1.31.50
## (2025-03-28)

* Leviathan: Allow specifying alternative image to test [Ryan Cooke]

# v1.31.49
## (2025-03-27)

* Update actions/create-github-app-token action to v1.12.0 [balena-renovate[bot]]

# v1.31.48
## (2025-03-27)

* Update balena-io/balena-cli to v21.1.2 [balena-renovate[bot]]

# v1.31.47
## (2025-03-27)

* Update balena-io/balena-cli to v21.1.1 [balena-renovate[bot]]

# v1.31.46
## (2025-03-26)

* Update aws/aws-cli to v2.25.4 [balena-renovate[bot]]

# v1.31.45
## (2025-03-26)

* Update balena-os/leviathan action to v2.31.95 [balena-renovate[bot]]

# v1.31.44
## (2025-03-26)

* Update tespkg/actions-cache action to v1.8.0 [balena-renovate[bot]]

# v1.31.43
## (2025-03-25)

* Update balena-os/leviathan action to v2.31.94 [balena-renovate[bot]]

# v1.31.42
## (2025-03-24)

* Update aws/aws-cli to v2.25.2 [balena-renovate[bot]]

# v1.31.41
## (2025-03-20)

* Update aws/aws-cli to v2.25.0 [balena-renovate[bot]]

# v1.31.40
## (2025-03-20)

* Update actions/create-github-app-token action to v1.11.7 [balena-renovate[bot]]

# v1.31.39
## (2025-03-20)

* Update aws/aws-cli to v2.24.27 [balena-renovate[bot]]

# v1.31.38
## (2025-03-20)

* Update balena-os/leviathan action to v2.31.93 [balena-renovate[bot]]

# v1.31.37
## (2025-03-19)

* Update actions/download-artifact digest to 95815c3 [balena-renovate[bot]]

# v1.31.36
## (2025-03-19)

* Update balena-os/leviathan action to v2.31.91 [balena-renovate[bot]]

# v1.31.35
## (2025-03-19)

* Update actions/upload-artifact action to v4.6.2 [balena-renovate[bot]]

# v1.31.34
## (2025-03-19)

* Update product-os/review-commit-action action to v0.2.5 [balena-renovate[bot]]

# v1.31.33
## (2025-03-18)

* Update aws/aws-cli to v2.24.26 [balena-renovate[bot]]

# v1.31.32
## (2025-03-18)

* Update actions/download-artifact digest to b14cf4c [balena-renovate[bot]]

# v1.31.31
## (2025-03-17)

* Update aws/aws-cli to v2.24.25 [balena-renovate[bot]]

# v1.31.30
## (2025-03-17)

* Update product-os/review-commit-action action to v0.2.4 [balena-renovate[bot]]

# v1.31.29
## (2025-03-14)

* Update aws/aws-cli to v2.24.24 [balena-renovate[bot]]

# v1.31.28
## (2025-03-14)

* Update docker/login-action action to v3.4.0 [balena-renovate[bot]]

# v1.31.27
## (2025-03-13)

* Update aws/aws-cli to v2.24.23 [balena-renovate[bot]]

# v1.31.26
## (2025-03-12)

* Update balena-io/balena-cli to v21.1.0 [balena-renovate[bot]]

# v1.31.25
## (2025-03-11)

* Update aws/aws-cli to v2.24.22 [balena-renovate[bot]]

# v1.31.24
## (2025-03-11)

* Update balena-io/balena-cli to v21 [balena-renovate[bot]]

# v1.31.23
## (2025-03-11)

* workflows: yocto-build-deploy: pass device type to build [Alex Gonzalez]

# v1.31.22
## (2025-03-10)

* Update aws/aws-cli to v2.24.21 [balena-renovate[bot]]

# v1.31.21
## (2025-03-10)

* Update balena-io/balena-cli to v20.2.10 [balena-renovate[bot]]

# v1.31.20
## (2025-03-10)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.31.19
## (2025-03-07)

* Update aws/aws-cli to v2.24.20 [balena-renovate[bot]]

# v1.31.18
## (2025-03-07)

* Update product-os/review-commit-action action to v0.2.3 [balena-renovate[bot]]

# v1.31.17
## (2025-03-07)

* Update product-os/review-commit-action action to v0.2.2 [balena-renovate[bot]]

# v1.31.16
## (2025-03-06)

* Update aws/aws-cli to v2.24.19 [balena-renovate[bot]]

# v1.31.15
## (2025-03-05)

* Update aws/aws-cli to v2.24.18 [balena-renovate[bot]]

# v1.31.14
## (2025-03-04)

* Update aws/aws-cli to v2.24.17 [balena-renovate[bot]]

# v1.31.13
## (2025-03-04)

* Add signing environment to All Jobs context [Kyle Harding]

# v1.31.12
## (2025-03-03)

* Update aws/aws-cli to v2.24.16 [balena-renovate[bot]]

# v1.31.11
## (2025-03-03)

* Update product-os/review-commit-action action to v0.2.0 [balena-renovate[bot]]

# v1.31.10
## (2025-03-03)

* Update aws-actions/configure-aws-credentials action to v4.1.0 [balena-renovate[bot]]

# v1.31.9
## (2025-03-03)

* Update aws/aws-cli to v2.24.15 [balena-renovate[bot]]

# v1.31.8
## (2025-03-03)

* Update balena-io/balena-cli to v20.2.9 [balena-renovate[bot]]

# v1.31.7
## (2025-03-03)

* Update actions/create-github-app-token action to v1.11.6 [balena-renovate[bot]]

# v1.31.6
## (2025-03-03)

* Update aws/aws-cli to v2.22.35 [balena-renovate[bot]]

# v1.31.5
## (2025-03-02)

* Update actions/download-artifact digest to cc20338 [balena-renovate[bot]]

# v1.31.4
## (2025-03-02)

* Unpack all artifacts for S3 upload [Kyle Harding]

# v1.31.3
## (2025-02-28)

* Rename build environment to signing environment [Kyle Harding]
* Do not allow changing the S3 deploy environment [Kyle Harding]

# v1.31.2
## (2025-02-27)

* Unset the new environment inputs until they have been deployed [Kyle Harding]

# v1.31.1
## (2025-02-27)

* Update Pin dependencies [balena-renovate[bot]]

# v1.31.0
## (2025-02-27)

* Remove balena API key from yocto build step [Kyle Harding]
* Separate build jobs by environments [Kyle Harding]

# v1.30.36
## (2025-02-26)

* Update product-os/review-commit-action action to v0.1.12 [balena-renovate[bot]]

# v1.30.35
## (2025-02-26)

* Update balena-os/leviathan action to v2.31.90 [balena-renovate[bot]]

# v1.30.34
## (2025-02-25)

* Update product-os/review-commit-action action to v0.1.11 [balena-renovate[bot]]

# v1.30.33
## (2025-02-24)

* Remove legacy yocto NFS cache host setup [Kyle Harding]

# v1.30.32
## (2025-02-21)

* Update actions/upload-artifact action to v4.6.1 [balena-renovate[bot]]

# v1.30.31
## (2025-02-21)

* barys: build unique machine-image combinations [Alex Gonzalez]

# v1.30.30
## (2025-02-17)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.30.29
## (2025-02-15)

* Update actions/create-github-app-token action to v1.11.5 [balena-renovate[bot]]

# v1.30.28
## (2025-02-11)

* Update aws-actions/configure-aws-credentials action to v4.1.0 [balena-renovate[bot]]

# v1.30.27
## (2025-02-06)

* Update balena-os/leviathan action to v2.31.89 [balena-renovate[bot]]

# v1.30.26
## (2025-02-06)

* Update actions/create-github-app-token action to v1.11.3 [balena-renovate[bot]]

# v1.30.25
## (2025-02-06)

* generate-oscontracts: remove sw.os-image selector [Ryan Cooke]

# v1.30.24
## (2025-02-03)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.30.23
## (2025-01-31)

* Update actions/create-github-app-token action to v1.11.2 [balena-renovate[bot]]

# v1.30.22
## (2025-01-28)

* Update balena-os/leviathan action to v2.31.87 [balena-renovate[bot]]

# v1.30.21
## (2025-01-27)

* Update aws-actions/configure-aws-credentials action to v4.0.3 [balena-renovate[bot]]

# v1.30.20
## (2025-01-26)

* Update balena-os/leviathan action to v2.31.86 [balena-renovate[bot]]

# v1.30.19
## (2025-01-24)

* Update balena-os/leviathan action to v2.31.85 [balena-renovate[bot]]

# v1.30.18
## (2025-01-23)

* barys: allow to specify custom templates paths directly [Alex Gonzalez]
* generate-conf-notes: simplify arguments [Alex Gonzalez]
* barys: do not build duplicated machines [Alex Gonzalez]
* workflows: yocto-build-deploy: distinguish machine from slug [Alex Gonzalez]

# v1.30.17
## (2025-01-20)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.30.16
## (2025-01-13)

* workflows: yocto-build-deploy: allow to pass barys arguments [Alex Gonzalez]
* barys: allow for custom templates [Alex Gonzalez]

# v1.30.15
## (2025-01-13)

* revert to building secure boot with cache [Alex Gonzalez]
* workflows: yocto-build-deploy: allow to override SIGN_GRUB_KEY_ID [Alex Gonzalez]
* workflows: yocto-build-deploy: add PKI signing key ID [Alex Gonzalez]

# v1.30.14
## (2025-01-10)

* Update actions/upload-artifact action to v4.6.0 [balena-renovate[bot]]

# v1.30.13
## (2025-01-10)

* workflows: yocto-build-deploy: add SSH key to environment [Alex Gonzalez]

# v1.30.12
## (2025-01-09)

* Update balena-os/leviathan action to v2.31.83 [balena-renovate[bot]]

# v1.30.11
## (2025-01-09)

* Update balena-os/leviathan action to v2.31.82 [balena-renovate[bot]]

# v1.30.10
## (2025-01-09)

* Update tespkg/actions-cache action to v1.7.2 [balena-renovate[bot]]

# v1.30.9
## (2025-01-09)

* Update balena-os/leviathan action to v2.31.81 [balena-renovate[bot]]

# v1.30.8
## (2025-01-09)

* Upload yocto build logs even on failure [Kyle Harding]

# v1.30.7
## (2025-01-06)

* Update balena-os/leviathan action to v2.31.79 [balena-renovate[bot]]

# v1.30.6
## (2025-01-06)

* Update balena-os/leviathan action to v2.31.78 [balena-renovate[bot]]

# v1.30.5
## (2025-01-06)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.30.4
## (2024-12-30)

* Update actions/create-github-app-token action to v1.11.1 [balena-renovate[bot]]

# v1.30.3
## (2024-12-30)

* Update balena-os/leviathan action to v2.31.77 [balena-renovate[bot]]

# v1.30.2
## (2024-12-20)

* Update actions/upload-artifact action to v4.5.0 [balena-renovate[bot]]

# v1.30.1
## (2024-12-19)

* Update balena-os/leviathan action to v2.31.76 [balena-renovate[bot]]

# v1.30.0
## (2024-12-19)

* Append to MIRRORS instead of PREMIRRORS to limit egress [Kyle Harding]
* Use dedicated AWS S3 buckets for download mirrors [Kyle Harding]

# v1.29.10
## (2024-12-19)

* Update balena-os/leviathan action to v2.31.75 [balena-renovate[bot]]

# v1.29.9
## (2024-12-19)

* Update balena-os/leviathan action to v2.31.73 [balena-renovate[bot]]

# v1.29.8
## (2024-12-18)

* Update balena-os/leviathan action to v2.31.72 [balena-renovate[bot]]

# v1.29.7
## (2024-12-17)

* Unset AWS credentials to avoid overriding MinIO credentials [Kyle Harding]

# v1.29.6
## (2024-12-17)

* Update balena-os/leviathan action to v2.31.71 [balena-renovate[bot]]

# v1.29.5
## (2024-12-16)

* Remove hostapp creation step [Ryan Cooke]

# v1.29.4
## (2024-12-14)

* Compress artifacts with gzip and zstd before encrypting [Kyle Harding]

# v1.29.3
## (2024-12-13)

* Update Pin dependencies [balena-renovate[bot]]

# v1.29.2
## (2024-12-13)

* Update balena-os/leviathan action to v2.31.70 [balena-renovate[bot]]

# v1.29.1
## (2024-12-13)

* re-enable AMI deploys [Ryan Cooke]

# v1.29.0
## (2024-12-13)

* Use S3 sstate cache on self-hosted runners [Kyle Harding]
* Sync shared downloads to S3 to use as a sources mirror [Kyle Harding]
* Sync the shared sstate to github actions cache [Kyle Harding]
* Use legacy yocto NFS cache as a source mirror [Kyle Harding]
* Enable mirror tarballs bitbake feature [Kyle Harding]

# v1.28.1
## (2024-12-10)

* Update balena-os/leviathan action to v2.31.69 [balena-renovate[bot]]

# v1.28.0
## (2024-12-09)

* Update the App Id and Private Key for ephemeral app tokens [Kyle Harding]

# v1.27.20
## (2024-12-09)

* barys: add support for scarthgap [Joseph Kogut]
* barys: make honister+ syntax default [Joseph Kogut]

# v1.27.19
## (2024-12-07)

* Update balena-os/leviathan action to v2.31.68 [balena-renovate[bot]]

# v1.27.18
## (2024-12-07)

* Update balena-os/leviathan action to v2.31.67 [balena-renovate[bot]]

# v1.27.17
## (2024-12-04)

* Update balena-os/leviathan action to v2.31.66 [balena-renovate[bot]]

# v1.27.16
## (2024-11-29)

* Set additional github token permissions [Ryan Cooke]

# v1.27.15
## (2024-11-23)

* Update balena-os/leviathan action to v2.31.65 [balena-renovate[bot]]

# v1.27.14
## (2024-11-20)

* Update balena-os/leviathan action to v2.31.62 [balena-renovate[bot]]

# v1.27.13
## (2024-11-18)

* Explicitly set GH_TOKEN permissions [Anton Belodedenko]

# v1.27.12
## (2024-11-18)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.27.11
## (2024-11-17)

* github/workflows/yocto-build-deploy.yml: Add hostapp metadata to OS release [Florin Sarbu]

# v1.27.10
## (2024-11-11)

* Set explicit permissions at the job level [Kyle Harding]

# v1.27.9
## (2024-11-11)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.27.8
## (2024-11-04)

* Update product-os/review-commit-action action to v0.1.7 [balena-renovate[bot]]

# v1.27.7
## (2024-11-04)

* Update Pin product-os/review-commit-action action to 81db18c [balena-renovate[bot]]

# v1.27.6
## (2024-11-04)

* Use official aws cli binaries and commands [Kyle Harding]

# v1.27.5
## (2024-11-04)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.27.4
## (2024-11-01)

* Update actions/checkout action to v4.2.2 [balena-renovate[bot]]

# v1.27.3
## (2024-10-29)

* Add pull request write permissions for workflow approvals [Kyle Harding]

# v1.27.2
## (2024-10-23)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.27.1
## (2024-10-23)

* remove CLI check if not deploying [rcooke-warwick]

# v1.27.0
## (2024-10-23)

* add review-commit-action to wait for approvals on PRT events [Ryan Cooke]

# v1.26.0
## (2024-10-15)

* Expose secure boot testing features via matrix input [Kyle Harding]

# v1.25.63
## (2024-10-11)

* Update balena-os/leviathan action to v2.31.60 [balena-renovate[bot]]

# v1.25.62
## (2024-10-11)

* Fix concurrency and cancel in progress contexts [Kyle Harding]

# v1.25.61
## (2024-10-10)

* Update balena-os/leviathan action to v2.31.59 [balena-renovate[bot]]

# v1.25.60
## (2024-10-09)

* Update actions/upload-artifact action to v4.4.3 [balena-renovate[bot]]

# v1.25.59
## (2024-10-09)

* Update actions/upload-artifact action to v4.4.2 [balena-renovate[bot]]

# v1.25.58
## (2024-10-09)

* Update balena-os/leviathan action to v2.31.56 [balena-renovate[bot]]

# v1.25.57
## (2024-10-08)

* Update balena-os/leviathan action to v2.31.54 [balena-renovate[bot]]

# v1.25.56
## (2024-10-07)

* Update actions/upload-artifact action to v4.4.1 [balena-renovate[bot]]

# v1.25.55
## (2024-10-07)

* Update balena-os/leviathan action to v2.31.51 [balena-renovate[bot]]

# v1.25.54
## (2024-10-07)

* Update actions/checkout action to v4.2.1 [balena-renovate[bot]]

# v1.25.53
## (2024-10-07)

* fix balena deploy quotes [Ryan Cooke]

# v1.25.52
## (2024-10-07)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.25.51
## (2024-10-04)

* Update balena-os/leviathan action to v2.31.50 [balena-renovate[bot]]

# v1.25.50
## (2024-10-02)

* use github app installation token for device repository cloning [Ryan Cooke]

# v1.25.49
## (2024-10-01)

* Only attempt to decrypt if we have encrypted in the build step [Ryan Cooke]
* Fetch full depth in order to checkout custom meta-balena-refs [Kyle Harding]
* Encrypt balenaOS artifacts at rest in GitHub [Anton Belodedenko]

# v1.25.48
## (2024-10-01)

* Update actions/checkout action to v4.2.0 [balena-renovate[bot]]

# v1.25.47
## (2024-09-30)

* patch: Stop persisting credentials in actions/checkout [Vipul Gupta (@vipulgupta2048)]

# v1.25.46
## (2024-09-27)

* use genericx86-64-ext image for testing the workflow [rcooke-warwick]

# v1.25.45
## (2024-09-19)

* fix check of finalize value [rcooke-warwick]
* Improve checking of previous test results [Kyle Harding]

# v1.25.44
## (2024-09-18)

* Update balena-os/leviathan action to v2.31.44 [balena-renovate[bot]]

# v1.25.43
## (2024-09-18)

* Update balena-os/leviathan action to v2.31.43 [balena-renovate[bot]]

# v1.25.42
## (2024-09-18)

* only upload artifacts when test_matrix is defined [rcooke-warwick]

# v1.25.41
## (2024-09-12)

* Update balena-os/leviathan action to v2.31.40 [balena-renovate[bot]]

# v1.25.40
## (2024-09-12)

* Update balena-os/leviathan action to v2.31.37 [balena-renovate[bot]]

# v1.25.39
## (2024-09-11)

* Update actions/create-github-app-token action to v1.11.0 [balena-renovate[bot]]

# v1.25.38
## (2024-09-09)

* Include semver when bumping leviathan action [Kyle Harding]

# v1.25.37
## (2024-09-05)

* Update balena-os/leviathan digest to 8fb47f2 [balena-renovate[bot]]

# v1.25.36
## (2024-09-05)

* Update balena-os/leviathan digest to 5db2b5d [balena-renovate[bot]]

# v1.25.35
## (2024-09-04)

* Update balena-os/leviathan digest to da52396 [balena-renovate[bot]]

# v1.25.34
## (2024-09-04)

* Update actions/create-github-app-token action to v1.10.4 [balena-renovate[bot]]

# v1.25.33
## (2024-09-02)

* Update balena-os/leviathan digest to d8572e2 [balena-renovate[bot]]

# v1.25.32
## (2024-09-02)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.25.31
## (2024-09-01)

* Update actions/upload-artifact action to v4.4.0 [balena-renovate[bot]]

# v1.25.30
## (2024-09-01)

* Update balena-os/leviathan digest to ff6a079 [balena-renovate[bot]]

# v1.25.29
## (2024-08-31)

* Restrict runners via yocto label, not 16cpu [Kyle Harding]

# v1.25.28
## (2024-08-30)

* checkout private contracts for test job [rcooke-warwick]

# v1.25.27
## (2024-08-29)

* use apt-get to install s4cmd instead of pip [rcooke-warwick]

# v1.25.26
## (2024-08-27)

* Fix if condition for checking merge commit test results [rcooke-warwick]

# v1.25.25
## (2024-08-23)

* Add unique unique identifiers to summary job [Kyle Harding]

# v1.25.24
## (2024-08-21)

* ensure "force-finalize" guarantees a finalized release [rcooke-warwick]
* update example workflow to use "deploy-environment" input [rcooke-warwick]
* remove "deploy-esr" input [rcooke-warwick]
* remove "deploy-s3" input [rcooke-warwick]
* remove "deploy-hostapp" and add "force-finalize" and "finalize-on-push-if-tests-passed" [rcooke-warwick]
* rename "envinroment" input to "deploy-environment" for clarity [rcooke-warwick]
* remove os-dev input [rcooke-warwick]

# v1.25.23
## (2024-08-15)

* Add mermaid flowchart to yocto workflow README [Kyle Harding]

# v1.25.22
## (2024-08-12)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.25.21
## (2024-08-06)

* Update balena-os/leviathan digest to f4e9332 [balena-renovate[bot]]

# v1.25.20
## (2024-08-06)

* Update actions/upload-artifact action to v4.3.6 [balena-renovate[bot]]

# v1.25.19
## (2024-08-06)

* Update balena-os/leviathan digest to a16cf0f [balena-renovate[bot]]

# v1.25.18
## (2024-08-05)

* Update actions/upload-artifact action to v4.3.5 [balena-renovate[bot]]

# v1.25.17
## (2024-08-05)

* Update Lock file maintenance [balena-renovate[bot]]

# v1.25.16
## (2024-07-30)

* Update docker/login-action action to v3.3.0 [balena-renovate[bot]]

# v1.25.15
## (2024-07-30)

* Update actions/upload-artifact action to v4.3.4 [balena-renovate[bot]]

# v1.25.14
## (2024-07-29)

* Update balena-os/leviathan digest to 36aafe0 [balena-renovate[bot]]

# v1.25.13
## (2024-07-29)

* Update actions/checkout action to v4.1.7 [balena-renovate[bot]]

# v1.25.12
## (2024-07-29)

* Update Pin dependencies [balena-renovate[bot]]

# v1.25.11
## (2024-07-29)

* revovate: change config to use balena-io template [rcooke-warwick]

# v1.25.10
## (2024-07-23)

* By default, deploy hostapp on push only [Leandro Motta Barros]

# v1.25.9
## (2024-07-22)

* use token to fetch private contracts [rcooke-warwick]
* unroll balena_lib_build_contract function [rcooke-warwick]
* unroll balena_api_is_dt_private function [rcooke-warwick]

# v1.25.8
## (2024-07-17)

* Use env vars BALENA_HOST and BALENACLOUD_SSH_URL when provided [Kyle Harding]

# v1.25.7
## (2024-07-16)

* Fix handling of empty test matrix input [Kyle Harding]

# v1.25.6
## (2024-07-15)

* Use App Installation tokens so we can clone private submodules [Kyle Harding]

# v1.25.5
## (2024-07-08)

* only login to s3 if deploying to s3 [rcooke-warwick]

# v1.25.4
## (2024-07-06)

* balena-deploy: deploy secure boot lock artifacts if available [Alex Gonzalez]

# v1.25.3
## (2024-07-05)

* use workflow run of PR head instead of statuses to determine test results [rcooke-warwick]

# v1.25.2
## (2024-07-03)

* Remove dry-run flag from S3 upload [Kyle Harding]

# v1.25.1
## (2024-07-03)

* Fix actionlint errors and warnings in shell steps [Kyle Harding]

# v1.25.0
## (2024-07-03)

* Do not run any tests by default unless provided by calling workflow [Kyle Harding]

# v1.24.3
## (2024-07-02)

* patch: No upload to GH artifacts when PR is closed [Vipul Gupta (@vipulgupta2048)]

# v1.24.2
## (2024-07-02)

* Fix quoting of $GITHUB_OUTPUT [Leandro Motta Barros]

# v1.24.1
## (2024-06-27)

* Simplify check for secure boot [Leandro Motta Barros]

# v1.24.0
## (2024-06-26)

* Support runner selection in the test matrix [Kyle Harding]
* Allow both combinatorial and include syntax for test_matrix [Kyle Harding]

# v1.23.1
## (2024-06-26)

* Refactor secrets and variables to use environments [Kyle Harding]

# v1.23.0
## (2024-06-19)

* Dockerfiles: update balenaCLI version to 18.2.2 [Joseph Kogut]
* Dockerfile_yocto-build-env: bump base image to 22.04 [Joseph Kogut]

# v1.22.4
## (2024-06-14)

* Update job conditions to allow non-PR events for internal branches [Kyle Harding]
* Hardcode environment paths at the job level [Kyle Harding]
* Replace test inputs with a single JSON matrix input [Kyle Harding]

# v1.22.3
## (2024-06-13)

* jenkins_generate_ami: pass yocto scripts version as an env var to helper container [rcooke-warwick]

# v1.22.2
## (2024-06-12)

* Update the triggers on the example test workflow [Kyle Harding]

# v1.22.1
## (2024-06-07)

* Prevent duplicate workflow runs for multiple triggers [Kyle Harding]
* Add catchall job to yocto-build-deploy for merge requirements [Kyle Harding]

# v1.22.0
## (2024-06-06)

* Create workflow to build and deploy balenaOS [Kyle Harding]

# v1.21.10
## (2024-05-02)

* balena-deploy: deploy usbboot if available [Alex Gonzalez]

# v1.21.9
## (2024-04-30)

* balena-lib: improve base tag detection [Alex Gonzalez]

# v1.21.8
## (2024-04-29)

* Support commit tags when extracting version tag from git [Kyle Harding]

# v1.21.7
## (2024-04-19)

* Add missing $select for release_asset.asset_key [Thodoris Greasidis]

# v1.21.6
## (2024-03-25)

* Revert "balena-build: avoid using device-type as a prefix in yocto sstate" [Kyle Harding]

# v1.21.5
## (2024-03-14)

* Merge AMI publishing dependencies into yocto-build-env [Kyle Harding]

# v1.21.4
## (2024-03-13)

* balena-build: avoid using device-type as a prefix in yocto sstate [Kyle Harding]

# v1.21.3
## (2024-02-11)

* Enable S3 Server Side Encryption flags [Kyle Harding]

# v1.21.2
## (2024-02-08)

* automation/include: Pass helper image version [Florin Sarbu]

# v1.21.1
## (2024-02-07)

* balena-deploy: Remove docker.io when pulling image [Alexandru]

# v1.21.0
## (2024-02-02)

* Return image id after pulling helper images [Kyle Harding]
* Build and publish helper images with Flowzone [Kyle Harding]

# v1.20.0
## (2024-02-02)

* Remove unused block-build functions [Kyle Harding]

# v1.19.41
## (2023-12-22)

* automation/balena-deploy: Pin to known working version of balena-img [Alexandru Costache]

# v1.19.40
## (2023-11-13)

* Dockerfiles: update balenaCLI version to 17.2.2 [Alex Gonzalez]
* balena-deploy-block.sh: deploy licenses and changelog as release assets [Alex Gonzalez]
* balena-deploy: Add changelog to deployed artifacts [Alex Gonzalez]
* balena-api: add release assets helper functions [Alex Gonzalez]

# v1.19.39
## (2023-10-20)

* Dockerfile_yocto-build-env: Install rsync and uudecode host dependencies [Alexandru Costache]

# v1.19.38
## (2023-10-11)

* README.md ChangeType is needed for PR so add to README example [Alex J Lennon]

# v1.19.37
## (2023-10-10)

* Dockerfile_yocto-build-env: Add screen [Alex J Lennon]

# v1.19.36
## (2023-10-10)

* flowzone: allow external contributions [Alex Gonzalez]

# v1.19.35
## (2023-09-28)

* balena-deploy: fail if device type not found [rcooke-warwick]
* balena-api: Dont assume private if can't get DT [rcooke-warwick]

# v1.19.34
## (2023-07-12)

* Remove all traces of --skip-discontinued [Florin Sarbu]
* barys: Remove documenting the --skip-discontinued option [Florin Sarbu]

# v1.19.33
## (2023-07-10)

* Update device-types package from v10.3.0 to v10.5.1 [Alex Gonzalez]
* barys: remove option to skip discontinued device types [Alex Gonzalez]
* balena-lib: remove balena_lib_get_dt_state [Alex Gonzalez]
* jenkins_build: remove discontinued device check [Alex Gonzalez]
* balena-deploy: remove discontinued check [Alex Gonzalez]

# v1.19.32
## (2023-06-19)

* balena-deploy: Newer meta-balena do not create a kernel_source tarball [Alex Gonzalez]

# v1.19.31
## (2023-06-05)

* balena-deploy: add a compressed licenses tarball to the deploy artifacts [Alex Gonzalez]

# v1.19.30
## (2023-05-23)

* generate_ami: opt-in secure boot when using signed images [Alex Gonzalez]
* balena-generate-ami: comply with default AMI quotas [Alex Gonzalez]

# v1.19.29
## (2023-05-19)

* balena-deploy: add secureBoot feature into contract [Alex Gonzalez]

# v1.19.28
## (2023-05-06)

* jenkins_build: accept bitbake extra arguments [Alex Gonzalez]

# v1.19.27
## (2023-04-21)

* barys: fix removal of equals sign from argval [Joseph Kogut]

# v1.19.26
## (2023-04-12)

* balena-lib: Do not return error if no balena user token is available [Alex Gonzalez]

# v1.19.25
## (2023-03-01)

* Dockerfile: yocto-build-env: update balenaCLI to 14.5.15 [Alex Gonzalez]

# v1.19.24
## (2023-02-28)

* balena-api: ignore quotes from API replies [Alex Gonzalez]

# v1.19.23
## (2023-01-28)

* balena-generate-ami: increase import snapshot timeout [Alex Gonzalez]
* balena-generate-ami: remove s3 temporary image if snapshot import times out [Alex Gonzalez]
* balena-generate-ami: match instance type with image type [Alex Gonzalez]
* balena-generate-ami: fix linter warnings [Alex Gonzalez]

# v1.19.22
## (2023-01-25)

* balena-generate-ami: allow for staging deployments [Alex Gonzalez]
* jenkins_generate_ami: allow for staging deployment [Alex Gonzalez]

# v1.19.21
## (2023-01-19)

* balene-generate-ami: remove key name [Alex Gonzalez]

# v1.19.20
## (2023-01-18)

* jenkins_generate_ami: default to pull cloud-config apps from balena_os [Alex Gonzalez]

# v1.19.19
## (2023-01-14)

* balena-generate-ami: do not remove AMI snapshot [Alex Gonzalez]
* jenkins_generate_ami: use balena_os tokens instead of org specific token [Alex Gonzalez]
* jenkins_build: respect the preserve build flag [Alex Gonzalez]
* balena-generate-ami: cleanup images after deployment [Alex Gonzalez]
* balena-generate-ami: test image before making it public [Alex Gonzalez]

# v1.19.18
## (2023-01-09)

* balena-generate-ami: Enable TPM support on x86_64 only [Michal Toman]

# v1.19.17
## (2022-12-23)

* jenkins_generate_ami: support using both live and installer images as AMIs [Alex Gonzalez]
* balena-generate-ami: Enable nitroTPM support [Alex Gonzalez]
* jenkins_build: add argument to build OS development images [Alex Gonzalez]

# v1.19.16
## (2022-12-16)

* dockerfile: balena-push-env: update balena CLI version to v14.5.15 [Alex Gonzalez]
* jenkins_generate_ami: add balena org for preloaded app [Alex Gonzalez]
* jenkins_generate_ami: distinguish between staging and production [Alex Gonzalez]

# v1.19.15
## (2022-12-16)

* workflows: add flowzone [Alex Gonzalez]

# v1.19.14
## (2022-11-10)

* jenkins_generate_ami: use a different token [Alex Gonzalez]

# v1.19.13
## (2022-10-21)

* jenkins_build: Only deploy AMI after deploying a final release [Alex Gonzalez]

# v1.19.12
## (2022-08-08)

* barys: Add balena-rust to syntax conversion step [Alex Gonzalez]

# v1.19.11
## (2022-07-25)

* balena-api: On hostapp creation, set class to app [Alex Gonzalez]

# v1.19.10
## (2022-06-29)

* balena-deploy: Use balena-img instead of resin-img [Alex Gonzalez]
* Global rename from dockerhub resin to balena accounts [Alex Gonzalez]
* automation: Stop deploying images to dockerhub [Alex Gonzalez]

# v1.19.9
## (2022-06-28)

* balena-deploy: pin balena-img to v4.1.2 [Joseph Kogut]
* balena-deploy: s/resin-img/balena-img [Joseph Kogut]

# v1.19.8
## (2022-06-01)

* balena-lib: release_finalize: Do not retag phase for ESR branch patch [Alex Gonzalez]

# v1.19.7
## (2022-05-31)

* balena-lib: balena_lib_release_finalize: Pass the correct arguments [Alex Gonzalez]
* balena-lib: Tag ESR fleets with patch independent tags [Alex Gonzalez]

# v1.19.6
## (2022-05-24)

* balena-lib: Check versions before finalizing [Alex Gonzalez]
* balena-deploy-block: Do not always finalise on deploy [Alex Gonzalez]
* balena-deploy-block: Add OS version to contract [Alex Gonzalez]
* balena-deploy: Generate OS contract if not available [Alex Gonzalez]
* balena-lib: Build contracts [Alex Gonzalez]
* Add generate-oscontract script [Alex Gonzalez]

# v1.19.5
## (2022-05-19)

* jenkins_build: Finalize when required [Alex Gonzalez]
* balena-lib: Finalise release before tagging [Alex Gonzalez]
* balena-api: Add function to get final state of release [Alex Gonzalez]
* balena-lib: Extract release finalization as function [Alex Gonzalez]
* Update balena-cli version to latest [Alex Gonzalez]
* balena-deploy: Fix header on balena_deploy_block() [Alex Gonzalez]

# v1.19.4
## (2022-04-28)

* balena-api.inc: fix 'fatal: unsafe repository' [Florin Sarbu]

# v1.19.3
## (2022-04-26)

* balena-lib: fix 445d6d1fcfce97f85ffcfedc0083eb658a734321 [Florin Sarbu]

# v1.19.2
## (2022-04-21)

* balena-lib: fix 'fatal: unsafe repository' [Joseph Kogut]

# v1.19.1
## (2022-04-14)

* deploy: ensure deployRawArtifact is empty instead of null [Joseph Kogut]

# v1.19.0
## (2022-04-13)

* deploy: push image variant artifacts [Joseph Kogut]

# v1.18.0
## (2022-03-31)

* Bump balena-cli to v.Latest [ab77]

# v1.17.12
## (2022-03-29)

* Remove superfluous preload flag [ab77]

# v1.17.11
## (2022-03-29)

* Unattended preload operation [ab77]

# v1.17.10
## (2022-03-28)

* Pass environment to docker [ab77]

# v1.17.9
## (2022-03-25)

* automation: ami: make BALENA_PRELOAD_COMMIT optional [Joseph Kogut]

# v1.17.8
## (2022-03-15)

* balena-deploy: s/resin-flasher/balena-flasher [Joseph Kogut]

# v1.17.7
## (2022-03-15)

* jenkins_generate_ami: surface preload app commit as variable [Joseph Kogut]

# v1.17.6
## (2022-03-08)

* barys: Remove RESINHUP setting [Alex Gonzalez]

# v1.17.5
## (2022-03-08)

* balena-deploy: Avoid patching test suites config.js during deploy [Kyle Harding]

# v1.17.4
## (2022-03-03)

* Init and update submodules when switching meta-balena branches [Kyle Harding]

# v1.17.3
## (2022-03-02)

* jenkins_build: Use recurse-submodules when checking out meta-balena [Kyle Harding]

# v1.17.2
## (2022-02-25)

* prepare-and-start: Remove balena login [Alex Gonzalez]

# v1.17.1
## (2022-01-27)

* balena-deploy.inc: Do no deploy device logo to deprecated endpoint [Florin Sarbu]

# v1.17.0
## (2022-01-20)

* balena-lib: Fix fetching meta-balena base version [Alex Gonzalez]
* jenkins_build-block: Use true/false for ESR variable [Alex Gonzalez]
* balena-deploy-block: Label ESR hostapps [Alex Gonzalez]
* balena-api: add balena_api_fetch_fleet_tag [Alex Gonzalez]
* balena-api: Set policy on ESR hostapps [Alex Gonzalez]
* balena-deploy: Pass ESR variable when creating apps [Alex Gonzalez]

# v1.16.4
## (2022-01-18)

* balena-deploy: Deploy passing the latest meta-balena version and not tag [Alex Gonzalez]
* balena-lib: Add balena_lib_get_meta_balena_base_version [Alex Gonzalez]

# v1.16.3
## (2022-01-17)

* balena-deploy-block: Check for existing tag only in specific hostapp [Alex Gonzalez]

# v1.16.2
## (2022-01-15)

* balena-api: Propagate balena API environment, token and OS organization [Alex Gonzalez]
* balena-build.sh: Propagate balena API environment and token [Alex Gonzalez]
* prepare-and-start: Propagate balena API environment and token [Alex Gonzalez]

# v1.16.1
## (2022-01-11)

* revert_overrides: Add intel-quark to architecture overrides [Alex Gonzalez]

# v1.16.0
## (2021-12-30)

* balena-deploy: Check for file existence before deploying [Alex Gonzalez]
* balena-deploy-block: Check existence of tag before re-deploying [Alex Gonzalez]
* balena-api: Add function to check the existence of a release tag [Alex Gonzalez]
* balena-deploy-block: Finalize releases when deployed [Alex Gonzalez]
* Accept deployments without balena.yml [Alex Gonzalez]
* jenkins_generate_ami: Remove variant from image name [Alex Gonzalez]
* balena-build.sh: Stop building OS variants [Alex Gonzalez]
* jenkins_build.sh: Remove buildFlavor [Alex Gonzalez]
* jenkins_build-blocks: Remove variant build option [Alex Gonzalez]
* balena-deploy: Stop using .dev/.prod variant suffixes [Alex Gonzalez]
* balena-deploy-block: Stop tagging hostapp releases with variant [Alex Gonzalez]
* balena-lib: Use externalVersion to match contracts [Alex Gonzalez]
* jenkins_build: Deploy hostapp like any other block [Alex Gonzalez]
* jenkins_build-blocks: Separate block build release deployment [Alex Gonzalez]
* balena-deploy-block: Use release versioning [Alex Gonzalez]
* jenkins_build: Remove discontinued check [Alex Gonzalez]
* balena-deploy: Do not deploy discontinued device types [Alex Gonzalez]
* balena-deploy: Discontinued device types use meta-balena version [Alex Gonzalez]
* balena-deploy: Adapt balena_deploy_block to release versioning and use it [Alex Gonzalez]
* balena-build-block: Remove image release [Alex Gonzalez]
* balena-api: Use release revision for fetchers [Alex Gonzalez]
* jenkins_build-block: Remove release version API setter [Alex Gonzalez]
* balena-api: Remove release version API setter [Alex Gonzalez]
* balena-lib: Use release versioning [Alex Gonzalez]

# v1.15.10
## (2021-12-02)

* balena-deploy: Set leviathan networkWireless mode based on device slug [Kyle Harding]

# v1.15.9
## (2021-11-26)

* Substitute the worker types for generic device slugs [Kyle Harding]

# v1.15.8
## (2021-11-03)

* Dockerfile_yocto-build-env: Install Honister host deps [Alexandru Costache]

# v1.15.7
## (2021-10-25)

* jenkins_build.sh: Fix deployment for discontinued device types [Alex Gonzalez]
* jenkins_build.sh: Remove PRIVATE_DT as it is unused [Alex Gonzalez]
* jenkins_build.sh: Fix lint warnings [Alex Gonzalez]

# v1.15.6
## (2021-10-21)

* balena-generate-ami.sh: wait for boot partition when preloading AMI [Michal Toman]

# v1.15.5
## (2021-10-21)

* jenkins_generate_ami.sh: Use a shared directory for preloaded image [Michal Toman]

# v1.15.4
## (2021-10-20)

* barys: update development image variables [Mark Corbin]

# v1.15.3
## (2021-10-20)

* jenkins_generate_ami.sh: Preload outside of yocto cache [Michal Toman]

# v1.15.2
## (2021-10-01)

* balena-generate-ami.sh: correctly mount boot partition when injecting SSH key [Michal Toman]

# v1.15.1
## (2021-10-01)

* Update balena-cli to 12.50.1 [Michal Toman]

# v1.15.0
## (2021-10-01)

* jenkins_generate_ami.sh: Use lib function to get arch from config.json [Michal Toman]
* balena-generate-ami.sh: Look for boot partition by label rather than hardcoding p1 [Michal Toman]
* balena-generate-ami.sh: Fail if AMI already exists [Michal Toman]
* balena-generate-ami.sh: sync after writing config.json [Michal Toman]
* balena-generate-ami.sh: Stick to POSIX-compliant [ instead of [[ [Michal Toman]
* balena-generate-ami.sh: Remove useless statements [Michal Toman]
* jenkins_generate_ami.sh: Use architecture as suffix instead of machine name [Michal Toman]
* jenkins_build.sh: pass MACHINE to jenkins_generate_ami.sh [Michal Toman]
* AMI automation: Adjust AMI names to be compatible with AWS API [ab77]
* AMI automation: Correct S3 bucket name and key [ab77]
* AMI automation: Add a separate container for generaing AMI [Michal Toman]
* AMI automation: shellcheck and resolve violations [ab77]
* AMI automation: Use staging env by default [Tomás Tormo]
* AMI automation: Simplify public ssh addition. Do not use sudo [Tomás Tormo]
* automation: Generate and publish AMI from the raw balenaOS image [Tomás Tormo]

# v1.14.9
## (2021-08-20)

* balena-deploy: When deploying hostapp default to using slug as name [Alex Gonzalez]
* balena-api: Do not use balena_lib_resolve_aliases [Alex Gonzalez]
* balena_lib: Make resolve_aliases local so it is not globally used [Alex Gonzalez]

# v1.14.8
## (2021-07-22)

* Use slug when setting deviceType for leviathan [Kyle Harding]

# v1.14.7
## (2021-06-29)

* balena-lib: Fix print statements helper functions [Kyle Harding]
* balena-lib: Fix device dir when running in Jenkins containers [Kyle Harding]

# v1.14.6
## (2021-06-18)

* balena-deploy: Flag hostapps as bootable apps [Alex Gonzalez]
* balena-deploy: Provide working directory when deploying hostapp [Alex Gonzalez]

# v1.14.5
## (2021-06-18)

* balena-deploy-block: Do not add variant suffix to release tag [Alex Gonzalez]

# v1.14.4
## (2021-06-16)

* Dockerfile_balena-push-env: Add balena-lib to image [Alex Gonzalez]
* balena-deploy-block: source balena-lib script library [Alex Gonzalez]

# v1.14.3
## (2021-06-01)

* balena-api: Filter out debug output [Alex Gonzalez]
* balena-api: Specify API environment and token when setting app roles [Alex Gonzalez]
* jenkins_build-blocks: Separate recipes and packages [Alex Gonzalez]
* balena-lib: Generalize contract fetcher [Alex Gonzalez]
* balena-deploy: Shorten installation directory '/yocto/resin-board' to '/work' [Alex Gonzalez]
* Conditional verbosity mode [Alex Gonzalez]

# v1.14.2
## (2021-05-26)

* balena-lib: Add function to fetch labels from image [Alex Gonzalez]
* balena-lib: contracts: Add package list fetcher [Alex Gonzalez]
* semver: Add bash utility for semantic version comparison [Alex Gonzalez]
* balena-docker: Add image retrieval function [Alex Gonzalez]

# v1.14.1
## (2021-05-24)

* Add a parsable representation of the changelog [Alex Gonzalez]

# v1.14.0
## (2021-05-20)

* README: Add brief introduction to the main scripts [Alex Gonzalez]
* balena-deploy: Add functions to deploy block, feed and OS release [Alex Gonzalez]
* Add script to build hostOS blocks [Alex Gonzalez]
* Balena build and deploy a hostOS yocto ipk block image [Alex Gonzalez]
* Add yocto-block-build-env container to build Yocto based hostOS blocks [Alex Gonzalez]

# v1.13.0
## (2021-05-19)

* jenkins_build: Rename metaResinBranch to metaBalenaBranch [Alex Gonzalez]
* jenkins_build: Replace supervisor tag with supervisor release [Alex Gonzalez]
* barys: Replace supervisor tag with supervisor release version [Alex Gonzalez]

# v1.12.16
## (2021-05-18)

* tests: Substitute deviceType with MACHINE when packaging tests [Kyle Harding]

# v1.12.15
## (2021-05-18)

* balena-docker: Allow to control iptables and ipmasq flags [Alex Gonzalez]
* Dockerfile_yocto-build-env: Specify docker version [Alex Gonzalez]

# v1.12.14
## (2021-05-17)

* balena-api: Allow access to OS developers to public apps [Alex Gonzalez]
* balena-api: Set default argument value not to exist on nounset setting [Alex Gonzalez]

# v1.12.13
## (2021-05-14)

* balena-deploy: Fix device installation path when running in helper container [Alex Gonzalez]
* balena-lib: Fix device installation path when running in helper container [Alex Gonzalez]
* balena-deploy-block: Create public app if required [Alex Gonzalez]
* balena-api: Add missing argument to function comments [Alex Gonzalez]
* balena-api: Add block images getter functions [Alex Gonzalez]
* balena-api: Add functions for apps management [Alex Gonzalez]

# v1.12.12
## (2021-05-12)

* Shorten installation directory '/yocto/resin-board' to '/work' [Alex Gonzalez]
* yocto-build-env: Update Dockerfile to add host tools dependencies [Alex Gonzalez]
* balena-build: Add option to keep local containers [Alex Gonzalez]
* balena-build: Re-enable the container's output [Alex Gonzalez]
* Generalize balena-docker to any engine [Alex Gonzalez]
* balena-docker: Adapt to be used from POSIX shell [Alex Gonzalez]

# v1.12.11
## (2021-05-10)

* Substitute device type in config.js if present [Kyle Harding]

# v1.12.10
## (2021-04-28)

* balena-build: Correctly pass development images flag and amend usage [Alex Gonzalez]
* balena-build: print submodule status [Alex Gonzalez]

# v1.12.9
## (2021-04-21)

* balena-build: Cleanup build containers and enable build output [Alex Gonzalez]
* balena-build: Fix indentation [Alex Gonzalez]
* balena-build: Do not exit if no SSH_AUTH_SOCK defined [Alex Gonzalez]
* balena-lib: Add function to resolve between contract slugs and Yocto machines [Alex Gonzalez]
* balena-build: Pass the API environment to the build container [Alex Gonzalez]

# v1.12.8
## (2021-04-15)

* balena-lib: Do not err when sourcing without a repository [Alex Gonzalez]
* jenkins_build-containers: Use a fixed length for the git short revision [Alex Gonzalez]
* balena-build: Fix development image build [Alex Gonzalez]

# v1.12.7
## (2021-04-12)

* balena-deploy: Set the OS version before setting deploy directory [Alex Gonzalez]
* balena-docker: Make it less verbose [Alex Gonzalez]
* balena-api: Improve logs when setting version [Alex Gonzalez]

# v1.12.6
## (2021-03-30)

* balena-lib: Set default namespace if not defined [Alex Gonzalez]
* balena-build.sh: Move into build script [Alex Gonzalez]
* include: Move include files and entry scripts into its own folder [Alex Gonzalez]

# v1.12.5
## (2021-03-30)

* balena-lib: Pass API environment to balena_lib_token [Alex Gonzalez]
* balena-build: Pass an API environment to balena_lib_token [Alex Gonzalez]
* balena-deploy.inc: Pass API environment to balena_lib_token [Alex Gonzalez]
* balena-deploy: Adjust balena_deploy_hostapp to new balena_deploy_block entrypoint arguments [Alex Gonzalez]
* balena-deploy-block: Fix shellcheck warnings [Alex Gonzalez]
* balena-deploy-block: Adjust variables for common use [Alex Gonzalez]
* balena-deploy: Shellcheck warnings [Alex Gonzalez]

# v1.12.4
## (2021-03-29)

* jenkins_build: Call out to script libraries functions [Alex Gonzalez]
* balena-deploy: Fix indentation and shellcheck warnings [Alex Gonzalez]
* balena_deploy: Add functions to deploy Jenkins artifacts to S3 and dockerhub [Alex Gonzalez]
* balena-lib: By default only login to BaleneCloud if not token is found [Alex Gonzalez]
* balena-lib: Add several function to extract device details from device type JSON file [Alex Gonzalez]
* balena-api: Add is_dt_private function [Alex Gonzalez]

# v1.12.3
## (2021-03-26)

* balena-lib: Fix indentation to tabs [Alex Gonzalez]

# v1.12.2
## (2021-03-26)

* balena-docker: Remove execution trace flag [Alex Gonzalez]

# v1.12.1
## (2021-03-25)

* jenkins_build: Use balena_deploy_hostapp from balena-deploy [Alex Gonzalez]
* balena-deploy: Add script library for deploy logic [Alex Gonzalez]
* jenkins_build: Separate barys build functions [Alex Gonzalez]
* balena-build: Split build related functions [Alex Gonzalez]
* Dockerfile_balena-push-env: Refactor to use balena-deploy-block [Alex Gonzalez]
* balena-push-os-version: Rename to balena-deploy-block and set the release version on deploy [Alex Gonzalez]
* balena-api: Add script library with API calls [Alex Gonzalez]
* jenkins_build: Separate deploy functions [Alex Gonzalez]
* Add bitbake-args argument to barys and make bitbake-target accept multiple arguments [Alex Gonzalez]
* jenkins_build-containers: Allow docker login for local development [Alex Gonzalez]
* balena-lib: Add commonly used utility functions [Alex Gonzalez]

# v1.12.0
## (2021-03-24)

* Improve template layer matching [Kyle Harding]

# v1.11.2
## (2021-03-22)

* jenkins_build: Use balena-lib.inc instead of balena-inc.sh [Alex Gonzalez]
* balena-lib: Rename functions with the balena_lib prefix [Alex Gonzalez]
* balena-lib: Rename to balena-lib.inc [Alex Gonzalez]
* Allow to specify which containers to build and login to dockerhub so that they can be deployed [Alex Gonzalez]

# v1.11.1
## (2021-03-22)

* Dockerfile_balena-push-env: Refactor to use balena-docker [Alex Gonzalez]
* Dockerfile_yocto_build-env: Refactor to update dockerd and use balena-docker [Alex Gonzalez]
* prepare-and-start: Refactor to use balena-lib [Alex Gonzalez]
* balena-push-os-version: Refactor to use balena-docker [Alex Gonzalez]
* balena-docker: Rename manage-docker to balena-docker [Alex Gonzalez]

# v1.11.0
## (2021-03-01)

* Rename resin image types to balena [Kyle Harding]

# v1.10.3
## (2021-03-01)

* tests: fix typo in tests packaging [Kyle Harding]

# v1.10.2
## (2021-02-26)

* tests: strip leading paths when packaging [Kyle Harding]

# v1.10.1
## (2021-02-26)

* Dockerfile_yocto-build-env: Install required python3-distutils module [Florin Sarbu]

# v1.10.0
## (2021-02-25)

* Use version controlled helper containers [Alex Gonzalez]
* jenkins_build-containers: Use revision of the repo where the scrip lives [Alex Gonzalez]
* balena-lib: Return the current repository revision [Alex Gonzalez]
* balena-lib: Fix balena devices dockerhub password [Alex Gonzalez]
* Dockerfile_balena-push-env: Install node from correct distro source [Alex Gonzalez]
* Dockerfile_yocto-build-env: Update Ubuntu version to bionic [Alex Gonzalez]
* yocto-build-env: Add balena-cli to container image [Alex Gonzalez]

# v1.9.6
## (2021-02-25)

* Helper containers are now referenced by tag instead of using latest, and will be built and deployed if required [Alex Gonzalez]
* balena-lib: Add scripts library [Alex Gonzalez]

# v1.9.5
## (2021-02-25)

* Update Ubuntu version on balena-push-env helper container image [Alex Gonzalez]
* jenkins_build_containers: Extract repository name into variable [Alex Gonzalez]
* jenkins_build: Parametrize the docker registry repository [Alex Gonzalez]
* jenkins-build: Allow the build container to authenticate with the registry [Alex Gonzalez]
* prepare-and-start: Login to Balena's registry if credentials are provided [Alex Gonzalez]
* jenkins-build: Correct build flavor usage [Alex Gonzalez]
* The jenkins_build script will now preserve the deploy folder too when the preserve build flag is set. [Alex Gonzalez]
* jenkins-build.sh: Generalized target image names [Alex Gonzalez]
* barys: Allow to pass multiple bitbake targets [Alex Gonzalez]
* Generalize balena-push-os-version container helper image to push any image type [Alex Gonzalez]

# v1.9.4
## (2021-02-23)

* jenkins: compress test suites inside jenkins artifacts [Kyle Harding]

# v1.9.3
## (2021-02-16)

* Revert "esr: Add branch creation automation script" [Alex Gonzalez]

# v1.9.2
## (2021-02-12)

* esr: Add branch creation automation script [Alex Gonzalez]

# v1.9.1
## (2021-02-04)

* jenkins: deploy test suite from meta-balena [Kyle Harding]

# v1.9.0
## (2020-11-06)

* Check DT privacy against the API [Stevche Radevski]

# v1.8.2
## (2020-10-22)

* build-device-type-json: show stderr on failure [Joseph Kogut]

# v1.8.1
## (2020-08-31)

* README: Remove resin occurrences in documentation [Alexandru Costache]

# v1.8.0
## (2020-06-22)

* Push images to S3 as the first step, and then create the docker and balena resources [Giovanni Garufi]

# v1.7.2
## (2020-05-20)

* Update balena-cli version to 11.35.4 [Giovanni Garufi]

# v1.7.1
## (2020-05-14)

* Fix s3 bucket reference [Giovanni Garufi]

# v1.7.0
## (2020-05-13)

* Manage deploying private device types [Stevche Radevski]

# v1.6.0
## (2020-05-06)

* Stop pushing images in the resinos folder [Giovanni Garufi]

# v1.5.6
## (2020-02-28)

* jenkins_build.sh: Fix passing additional argument to barys [Florin Sarbu]

# v1.5.5
## (2020-02-28)

* jenkins_build.sh: Allow for passing additional arguments to barys [Florin Sarbu]

# v1.5.4
## (2020-01-31)

* jenkins_build.sh: Set a content-type to the device type's logo.svg [Thodoris Greasidis]

# v1.5.3
## (2020-01-27)

* Rename balena push script for clarity [Giovanni Garufi]

# v1.5.2
## (2019-11-15)

* Update balenaos account to balena_os [Giovanni Garufi]

# v1.5.1
## (2019-11-14)

* Tag ESR releases with meta balena base version [Giovanni Garufi]

# v1.5.0
## (2019-11-13)

* Remove line information from release [Giovanni Garufi]
* Push ESR images to private esr bucket [Giovanni Garufi]

# v1.4.1
## (2019-11-12)

* Change ascii art to represent balenaOS [Roman Mazur]

# v1.4.0
## (2019-10-09)

* Fix docker push script [Giovanni Garufi]
* Add ESR-line parameter [Giovanni Garufi]

# v1.3.9
## (2019-10-04)

* Push OS image to balena and set version tags [Giovanni Garufi]

# v1.3.8
## (2019-09-30)

* barys: correctly apply SUPERVISOR_TAG variable in local.conf [Gergely Imreh]

# v1.3.7
## (2019-09-10)

* Support building older resin OS releases [Florin Sarbu]

# v1.3.6
## (2019-09-10)

* git: Ignore package-lock.json [Sven Schwermer]

# v1.3.5
## (2019-07-15)

* jenkins_build.sh: Use dsync instead of deprecated sync command [Florin Sarbu]

# v1.3.4
## (2019-07-15)

* jenkins_build.sh: Use put command with -f for latest file [Florin Sarbu]

# v1.3.3
## (2019-07-15)

* jenkins_build.sh: Use canned ACL and remove obsolete option [Florin Sarbu]

# v1.3.2
## (2019-07-15)

* jenkins_build.sh: Use s4cmd del command instead of rm [Florin Sarbu]

# v1.3.1
## (2019-07-12)

* jenkins_build.sh: Use new s4cmd params for accessing s3 [Florin Sarbu]

# v1.3.0
## (2019-07-12)

* jenkins_build.sh: Switch s3cmd with s4cmd [Florin Sarbu]

# v1.2.3
## (2019-06-24)

* jenkins_build.sh: Rename device type icon to logo.svg [Florin Sarbu]

# v1.2.2
## (2019-06-24)

* Deploy the device type logo so the UI can pick it up [Florin Sarbu]

# v1.2.1
## (2019-06-19)

* Do not error if the kernel headers are not generated [Florin Sarbu]

# v1.2.0
## (2019-05-30)

* Add balena-cli to yocto-build-env docker image [Giovanni Garufi]

# v1.1.1
## (2019-05-21)

* jenkins_build.sh: Use correct bash variable assignment [Florin Sarbu]

# v1.1.0
## (2019-05-20)

* Push and tag dev images to dockerhub [Giovanni Garufi]

# v1.0.6
## (2019-04-25)

* Store rootfs manifest [Giovanni Garufi]

# v1.0.5
## (2019-04-09)

* jenkins_build.sh: Replace meta-resin reference with meta-balena [Florin Sarbu]

# v1.0.4
## (2019-04-09)

* Parse by meta-balena- instead of by meta-resin- [Florin Sarbu]

# v1.0.3
## (2019-03-07)

* Also deploy kernel source tarball [Zubair Lutfullah Kakakhel]

# v1.0.2
## (2019-01-18)

* Add error check for the in-container bash code [Florin Sarbu]

# v1.0.1
## (2018-12-16)

* Switch from resin-yocto-scripts to balena-yocto-scripts [Florin Sarbu]

# v1.0.0
## (2018-12-14)

* Rename images from resin.img to balena.img [Alexis Svinartchouk]
* jenkins_build.sh: Use ts-node instead of coffeescript for img prepare [Alexis Svinartchouk]
* Attempt to fix unrecognized input header error [John (Jack) Brown]
